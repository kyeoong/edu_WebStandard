<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../js/httpRequest.js"></script>
<script type="text/javascript">
	function chk() {
		let params = "name=" + encodeURIComponent(frm.name.value);
		alert("params = " + params);
		// sendRequest(url(server PGM), params, callback 함수 , method) 
		sendRequest('hello.jsp',        params,    result,     "POST");
	}
	
	function result() {
		if(httpRequest.readyState == 4)
			if(httpRequest.status == 200) {
				var text1 = httpRequest.responseText;  // 서버가 보낸 전체 HTML 응답
				alert("requestText -> " + text1);
				
				start = text1.indexOf("<body>");   // Hello World".indexOf("World") → 6 (0부터 숫자 세니까 'W'가 6번째 글자임)
				end   = text1.indexOf("</body>");
				var text2 = text1.substring(start+6, end); // "Hello World".substring(0,5) → "Hello"
				alert(text2);
			} else alert("Server 오류");
	}
</script>
</head>
<body>
	<h2>이름을 입력하세요</h2>
	<form action="" name="frm">
		<input type="text" name="name"><p>
		<input type="button" value="확인" onclick="chk()" >
	</form>
</body>
</html>